<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>5Letters</title>
    <link th:href="@{/bootstrap.css}" rel="stylesheet"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">

</head>

<body>
<div id="container">

    <!--    HEADER  -->
    <h1 style="margin-top:10vh;">5Letter Word Game</h1>
    <h5>AKA: Lingo.</h5>
    <hr>

    <!--    Section to initialize game  -->

    <div th:hidden="${credits} != null">
        <form method="get" th:action="@{/loadgame}" th:object="${gameDTO}">
            <p>
                <select class="form-group" th:field="*{level}" id="dropDownList">
                    <option value="0">select level</option>
                    <option th:each="level : ${level}"
                            th:text="${level.level}"
                            th:value="${level.level}"></option>
                </select>
            </p>
            <p><input type="text" th:field="*{name}" placeholder="your name"/></p>
            <p><input type="submit" value="Start"/></p>
        </form>
    </div>

    <!--    Section to update according to guess    -->

    <div id="container-two" th:hidden="${correct} == true">
        <div id="creditsNull" th:hidden="${credits} == null">
            <h3 th:text="'Hello ' + ${name} + '!'"></h3>
            <h3 th:text="'Level: '+ ${levelSelected}"></h3>
            <h2 th:text="'Credits : '+ ${credits} + ' | Score: '+ ${score}"></h2>
            <h2 th:text="${attempt} + ' / ' + ${attemptStart}"></h2>
        </div>
        <h4 th:text="'Your guess was:'"  th:hidden="${attempt} == ${attemptStart}"></h4>
        <h2 id="guess" th:text="${guess}" th:hidden="${attempt} == ${attemptStart}"></h2>
    </div>
    <b>
        <h4 th:text="${message}"></h4>

    </b>

    <h2 id="result" th:text="${result}" th:hidden="${credits} == 0"></h2>

    <!--    FORM TO GUESS THE WORD  -->
    <p>
    <form method="post" th:action="@{/guess}" th:object="${guessDTO}" th:hidden="${credits} == null">
        <input id="fields" type="text" th:field="*{guess}" placeholder="5letters"/>
        <ul>
            <li th:each="err : ${#fields.errors('guess')}" th:text="${err}"></li>
        </ul>
        <input type="submit" value="Guess" th:disabled="${credits} == 0"/>
    </form>
    </p>


    <!--    PLAY AGAIN BUTTON - deletes session -->
    <p>
    <form method="post" th:action="@{/destroy}">
        <input type="submit" value="Play Again" th:hidden="${credits} == null"/>
    </form>
    </p>
</div>

</body>

</html>