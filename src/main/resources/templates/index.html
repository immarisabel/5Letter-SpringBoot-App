<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns:th="www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>5Letters</title>
    <link th:href="@{/bootstrap.css}" rel="stylesheet"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">

</head>

<body>
<div id="container">

    <!--    HEADER  -->
    <h1 style="margin-top:10vh;">5Letter Word Game</h1>
    <h5>AKA: Lingo.</h5>
    <hr>

    <!--    Section to initialize game  -->

    <div th:hidden="${credits} != null">
        <form action="#" th:action="@{/loadgame}" th:object="${gameDTO}" method="post">
            <p>
                <select class="form-group" th:field="*{level}" id="dropDownList">
                    <option th:each="level : ${level}"
                            th:text="${level.level}"
                            th:value="${level.level}"></option>
                </select>
            </p>
            <p class="alert alert-danger" th:if="${#fields.hasErrors('level')}" th:errors="*{level}"></p>
            <p><input type="text" class="form-control" id="name" th:field="*{name}" th:placeholder="username" th:value="anonymous" /></p>
            <p class="alert alert-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></p>
            <p><input type="submit" value="Start"/></p>
        </form>
    </div>




    <!--    Section to update according to guess    -->

    <div id="container-two" th:hidden="${correct} == true">
        <div id="creditsNull" th:hidden="${credits} == null">
            <h3 th:text="'Hello ' + ${name} + '!'"></h3>

            <!--    FORM TO GUESS THE WORD  -->
            <p>
            <form method="post" th:action="@{/guess}" th:object="${guessDTO}" th:hidden="${credits} == null">
                <input id="guessField" type="text" th:field="*{guess}" placeholder="5letters"/>
                <input type="submit" value="Guess" th:disabled="${credits} == 0"/>
            </form>
            </p>


            <h3 th:text="'Level: '+ ${levelSelected}"></h3>
            <h2 th:text="'Credits : '+ ${credits} + ' | Score: '+ ${score}"></h2>
            <h2 th:text="${attempt} + ' / ' + ${attemptStart}"></h2>
        </div>
        <h4 th:text="'Your guess was:'"  th:hidden="${attempt} == ${attemptStart}"></h4>
        <h2 id="guess" th:text="${guess}" th:hidden="${attempt} == ${attemptStart}"></h2>
    </div>
    <b>
        <h4 th:text="${message}"></h4>
    </b>

    <h2 id="result" th:text="${result}" th:hidden="${credits} == 0"></h2>



    <!--    PLAY AGAIN BUTTON - deletes session -->
    <p>
    <form method="post" th:action="@{/destroy}">
        <input type="submit" value="Play Again" th:hidden="${credits} == null"/>
    </form>
    </p>
</div>

</body>

</html>