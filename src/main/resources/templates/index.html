<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns:th="www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>5Letters</title>
    <link th:href="@{/bootstrap.css}" rel="stylesheet"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">

</head>

<body>
<div class="row">
    <div class="col-xs-12" align="center">
        <!--    HEADER  -->
        <h1 style="margin-top:10vh;">5Letter Word Game</h1>
        <h5>AKA: Lingo.</h5>
        <hr>

        <!--        Set Up Game Form    -->

        <div th:hidden="${credits} != null">
            <form  th:action="@{/loadgame}" th:object="${score}" method="post">
                <p>
                    <select class="form-group" th:field="*{level}" id="dropDownList">
                        <option th:each="lvl : ${level}"
                                th:text="${lvl.level}"
                                th:value="${lvl.level}"></option>
                    </select>
                </p>
                <p class="alert alert-danger" th:if="${#fields.hasErrors('level')}" th:errors="*{level}"></p>
                <p><input type="text" class="form-control" id="name" th:field="*{name}" th:placeholder="username"
                          th:value="anonymous"/></p>
                <p class="alert alert-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></p>
                <p><input type="submit" value="Start"/></p>
            </form>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-6" align="center">
        <p>
            <!--    TEXT under guess    - hide -->
        <h4 th:text="${message}"></h4>
        <h2 id="result" th:text="${result}" th:hidden="${credits} == 0"></h2>

        <!--        GUESS FORM -->
        <form  th:action="@{/guess}" th:object="${gameDTO}" method="post" th:hidden="${credits} == null">
            <input id="guessField" type="text" th:field="*{guess}" placeholder="5letters"/>
            <p></p>
            <p class="alert alert-danger" th:if="${#fields.hasErrors('guess')}" th:errors="*{guess}"></p>
            <input type="submit" value="Guess" th:disabled="${credits} == 0"/>
        </form>

        </p>

    </div>
    <div class="col-xs-12 col-md-6" align="center">
        <!--    These go on their own column    - always show after game setup  -->
        <div th:hidden="${credits} == null">
            <h3 th:text="'Hello ' + ${name} + '!'"></h3>
            <h3 th:text="'Level: '+ ${levelSelected}"></h3>
            <h2 th:text="'Credits : '+ ${credits} + ' | Score: '+ ${gameScore}"></h2>
            <h2 th:text="${attempt} + ' / ' + ${attemptStart}"></h2>
        </div>
    </div>
</div>
<div class="row" style="margin-top:10vh;">
    <div class="col-xs-12" align="center">
        <h4 th:text="'Your guess was:'" th:hidden="${attempt} == ${attemptStart}"></h4>
        <h2 id="guess" th:text="${guess}" th:hidden="${attempt} == ${attemptStart}"></h2>

        <form method="post" th:action="@{/destroy}">
            <input type="submit" value="Play Again" th:hidden="${credits} == null"/>
        </form>
    </div>
</div>


</body>

</html>